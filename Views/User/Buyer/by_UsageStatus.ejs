<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <%- include('../../head') %>
</head>

<body>
  <%- include('../../nav_Bar') %>
  <div class="page-header page-header-small">
    <div class="page-header-image" data-parallax="true" style="background-image: url('/Image/about_WH.jpg');"></div>
  </div>

  <div class="container mb-3">
    <table id="t1" class="board-table table">
      <p style="font-size:30px">Warehouse Usage</p>
      <thead class="thead-dark">
        <tr>
          <th>Req ID</th>
          <th>Warehouse ID</th>
          <th>Warehouse Name</th>
          <th>Rental Period</th>
          <th>Area</th>
          <th>Price</th>
          <th>IoT</th>
          <th>Info</th>
        </tr>
      </thead>
      <tbody>
        <% for(var i = 0; i < Object.keys(items).length; i++) { %>
        <tr class="table-warning">
          <td id="reqID<%= i %>"><%= items['item' + i].reqID %></td>
          <td id="warehouseID<%= i %>"><%= items['item' + i].warehouseID %></td>
          <td id="warehouseName<%= i %>"><%= items['item' + i].warehouseName %></td>
          <td id="Period<%= i %>"><%= items['item' + i].startDate %> ~ <%= items['item' + i].endDate %></td>
          <td id="area<%= i %>"><%= items['item' + i].area %></td>
          <td id="totalPrice<%= i %>"><%= items['item' + i].totalPrice %></td>
          <% if (items['item' + i].iotStat == "Y"){ %>
            <td style="padding:6px 0;">
              <form action="/iot" method="POST">
                <input id="wid" name="wid" type="hidden" value="<%= items['item' + i].warehouseID %>">
                <button class="btn btn-primary" style="margin: 0; padding: 8px 12px;">IoT Page</button>
              </form>
            </td>
          <% } else if (items['item' + i].iotStat == "W"){ %>
            <td style="padding-top: 20px;">Pending Approval</td>
          <% } else if (items['item' + i].iotStat == "N"){ %>
            <td style="padding-top: 20px;">Not Currently Used</td>
          <% } %>
          <td>
            <button id="modal_btn" class="btn btn-primary" style="margin: 0; padding: 8px 12px;">INFO</button>
            <div class="black_bg"></div>
            <div class="modal_wrap">
              <div class="modal_body">
                <table class="table table-bordered">
                  <label class="pvInfoLabel">Provider Info</label>
                  <tbody>
                  <tr>
                    <th class="thead-dark-vertical">Provider ID</th>
                    <td><%= items['item' + i].providerID %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Provider Name</th>
                    <td><%= items['item' + i].name %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Email</th>
                    <td><%= items['item' + i].email %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Contact Number</th>
                    <td><%= items['item' + i].contactNumber %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">National</th>
                    <td><%= items['item' + i].national %></td>
                  </tr>
                  </tbody>
                </table>
                <table class="table table-bordered">
                  <label class="pvInfoLabel">Warehouse Info</label>
                  <tbody>
                  <tr>
                    <th class="thead-dark-vertical">Warehouse ID</th>
                    <td><%= items['item' + i].warehouseID %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Warehouse Name</th>
                    <td><%= items['item' + i].warehouseName %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Address</th>
                    <td><%= items['item' + i].address %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Zipcode</th>
                    <td><%= items['item' + i].zipcode %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Contact Email</th>
                    <td><%= items['item' + i].warehouseEmail %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Contact Tel</th>
                    <td><%= items['item' + i].warehouseTEL %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Enrolled Date</th>
                    <td><%= items['item' + i].enrolledDate %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Land Area</th>
                    <td><%= items['item' + i].landArea %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Floor Area</th>
                    <td><%= items['item' + i].floorArea %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Usable Area</th>
                    <td><%= items['item' + i].landArea %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Price Per Area</th>
                    <td><%= items['item' + i].perprice %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">Info Comment</th>
                    <td><%= items['item' + i].perprice %></td>
                  </tr>
                  <tr>
                    <th class="thead-dark-vertical">ETC</th>
                    <td><%= items['item' + i].etcComment %></td>
                  </tr>
                  </tbody>
                </table>
                <div class="modal_close">
                  <button type="button" class="btn btn-sm">Close</button>
                </div>
              </div>
              
            </div>
          </td>
        </tr>
        <% } %>
    </table>
  </div>
</body>
<script>
  window.onload = function () {
    function onClick() {
      document.querySelector('.modal_wrap').style.display = 'block';
    }

    function offClick() {
      document.querySelector('.modal_wrap').style.display = 'none';
    }

    document.querySelector('#modal_btn').addEventListener('click', onClick);
    document.querySelector('.modal_close').addEventListener('click', offClick);
  };
</script>
</html>
