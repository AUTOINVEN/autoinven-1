<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <%- include('../../head') %>
</head>

<body>
  <%- include('../../nav_Bar') %>
  <div class="page-header page-header-small">
    <div class="page-header-image" data-parallax="true" style="background-image: url('/Image/about_WH.jpg');"></div>
  </div>
  <div class="container">
    <h2 class="mt-5 mb-3">Warehouse Usage</h2>
    <p id="totalMoney" style="display: none">0</p>
    <% for(var i = 0; i < Object.keys(items).length; i++) { %>
      <p id="reqID<%= i %>" style="display: none"><%= items['item' + i].reqID %></p>
      <p id="reqType<%= i %>" style="display: none"><%= items['item' + i].reqType %></p>
      <p id="whID<%= i %>" style="display: none"><%= items['item' + i].warehouseID %></p>
      <p id="whName<%= i %>" style="display: none"><%= items['item' + i].warehouseName %></p>
      <p id="buyerID<%= i %>" style="display: none"><%= items['item' + i].buyerID %></p>
      <p id="area<%= i %>" style="display: none"><%= items['item' + i].area %></p>
      <p id="startDate<%= i %>" style="display: none"><%= items['item' + i].startDate %></p>
      <p id="endDate<%= i %>" style="display: none"><%= items['item' + i].endDate %></p>
      <p id="amounts<%= i %>" style="display: none"><%= items['item' + i].amounts %></p>
    <% } %>
    <table id="t1" class="board-table table">
      <thead class="thead-dark">
      <tr>
        <th>reqID</th>
        <th>WarehouseID</th>
        <th>Warehouse Name</th>
        <th>Rental Period</th>
        <th>Area</th>
        <th>Price</th>
        <th>IoT</th>
        <th>PV Info</th>
      </tr>
      </thead>
      <tbody>
      <% for(var i = 0; i < Object.keys(items).length; i++) { %>
        <% if(items['item' + i].reqType == "ReqPayAcpt"){ %>
          <tr class="table-warning">
            <td><%= items['item' + i].reqID %></td>
            <td><%= items['item' + i].warehouseID %></td>
            <td><%= items['item' + i].warehouseName %></td>
            <td><%= items['item' + i].startDate %> ~ <%= items['item' + i].endDate %></td>
            <td><%= items['item' + i].area %></td>
            <td><%= items['item' + i].amounts %></td>
            <td>
              <button class="btn btn-primary" style="margin: 0; padding: 8px 12px;">IoT Page</button>
            </td>
            <td>
              <button id="modal_btn" class="btn btn-primary" style="margin: 0; padding: 8px 12px;">PV INFO</button>
              <div class="black_bg"></div>
              <div class="modal_wrap">
                <div class="modal_close">
                  <button type="button" class="btn btn-sm">Close</button>
                </div>
                <div>Modal 창 내용</div>
              </div>
            </td>
          </tr>
        <% } %>
      <% } %>
    </table>
  </div>
</body>

<%- include('../../footer') %>

<script>
  window.onload = function () {
    function onClick() {
      document.querySelector('.modal_wrap').style.display = 'block';
      document.querySelector('.black_bg').style.display = 'block';
    }
    function offClick() {
      document.querySelector('.modal_wrap').style.display = 'none';
      document.querySelector('.black_bg').style.display = 'none';
    }
    document.getElementById('modal_btn').addEventListener('click', onClick);
    document.querySelector('.modal_close').addEventListener('click', offClick);
  };
</script>
</html>
